window.repositoryObject = {"parameters_custom_fields":[],"object_id":"p249","name":"usp_GetDATAccount","subtype":"PROCEDURE","is_user_defined":false,"description":null,"summary":[{"field":"Documentation","value":{"_type":"link","name":"LoadMatching@UDVLPLL4DATASRV.linklogi.com","id":"d9"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"usp_GetDATAccount"},{"field":"Type","value":"Procedure"}],"script":"--------------------------------------------------------------------------\r\n-- PROCEDURE NAME : usp_GetDATAccount\r\n--------------------------------------------------------------------------\r\n-- DESCRIPTION    : Get DAT Account/Customer info  \r\n-- \r\n-- INPUT PARAMS   : @AccountId - DAT Customer Account ID\r\n--\t\t\t\t\t@CustCd - DAT Customer Account ID\r\n--------------------------------------------------------------------------\r\n-- HISTORY : \r\n-- AUTHOR\t\tDATE\t\t\tDESCRIPTION\r\n-- Vevian\t\t2018.09.11\t\tInitial Development\r\n--------------------------------------------------------------------------\r\n\r\nCREATE PROCEDURE [dbo].[usp_GetDATAccount] \r\n(\r\n\t@AccountId INT = null,\r\n\t@custCd varchar(10) = ''\r\n)\r\nAS\r\nBEGIN\r\n\t-- SET NOCOUNT ON added to prevent extra result sets from\r\n\t-- interfering with SELECT statements.\r\n\tSET NOCOUNT ON;\r\n\r\n\tSELECT\r\n\t\tACCOUNT_ID AS AccountId,\r\n\t\tCustCD,\r\n\t\tXMT_NAME AS CommonName,\r\n\t\tXMT_PHONE AS Phone,\r\n\t\tCOMPANY_FAX_PHONE AS Fax,\r\n\t\tFIRST_NAME AS FirstName,\r\n\t\tLAST_NAME AS LastName,\r\n\t\tEMAIL_ADDRESS AS Email,\r\n\t\tADDRESS1 AS Street,\r\n\t\tPOSTAL_CODE AS PostalCode,\r\n\t\tCITY,\r\n\t\tHOMEPROV AS ProvinceCode,\r\n\t\tPOSTER_TYPE AS [Type],\r\n\t\tOPEN_DATE AS StartDate,\r\n\t\tCLOSE_DATE AS EndDate,\r\n\t\t'' AS Website,\r\n\t\t'' AS HoursOfOperation,\r\n\t\t'DAT' AS SubscriberType\r\n\tFROM \r\n\t\tDatCustomer \r\n\tWHERE \r\n\t\t(isnull(@AccountId, 0) < 1 or ACCOUNT_ID = @AccountId)\r\n\t\tAND\r\n\t\t(len(isnull(@custCd, '')) = 0 or CustCD = @custCd);\r\nEND","parameters":[{"name":"AccountId","description":null,"mode":"IN","data_type":"int","custom_fields":{}},{"name":"custCd","description":null,"mode":"IN","data_type":"varchar(10)","custom_fields":{}}],"dependencies":null,"imported_at":"2021-07-29 12:59"};