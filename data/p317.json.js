window.repositoryObject = {"parameters_custom_fields":[],"object_id":"p317","name":"usp_UpdateAssignedLoadCustTracking","subtype":"PROCEDURE","is_user_defined":false,"description":null,"summary":[{"field":"Documentation","value":{"_type":"link","name":"LoadMatching@UDVLPLL4DATASRV.linklogi.com","id":"d9"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"usp_UpdateAssignedLoadCustTracking"},{"field":"Type","value":"Procedure"}],"script":"CREATE PROCEDURE  [dbo].[usp_UpdateAssignedLoadCustTracking]\r\n\t@ID             INT, \r\n\t@UpdatedBy      INT ,\r\n    @UserId         INT ,\r\n\t@CustTracking   Bit\r\n\r\n-----------------------------------------------------------------------\r\n-- PROCEDURE NAME : usp_UpdateAssignedLoadCustTracking\r\n--------------------------------------------------------------------------\r\n-- DESCRIPTION    : As a Carrier, Enable/Disable Customer Tracking for Broker .\r\n--\r\n-- ASSUMPTIONS    : \r\n-- CALLED BY      : \r\n-- EXECUTION FREQUENCY : OnDemand\r\n--\r\n-- INPUT PARAMS   : @UpdatedBy    - Link's UserId \r\n--                  @UserId       - Driver or Carrier UserId \r\n--\t\t\t\t\t@ID           - Id of the Assigned Load\r\n--\t\t\t\t\t@IsTrackingEnabled     Flag to enable/disbale tracking\r\n--                  \r\n-- OUTPUT PARAMS  :\r\n-- STATUS RETURN  : \r\n--------------------------------------------------------------------------\r\n-- HISTORY :\r\n-- AUTHOR\t\t\tDATE        DESCRIPTION\r\n-- Jatinder      2018.02.19\t\tThis SP set enable/disable the Customer Tracking by a Carrier for a broker.\r\n-- Jatinder\t\t 2019.02.19\t\tJIRA [LLSIM-2306] Create new stored procedure to update CustomerTrack flag in AssignedLoad table\t\r\n---------------------------------------------------------------------------\r\n\r\nAS BEGIN \r\nDECLARE @ReturnValue INT = 0\r\nBEGIN TRY\r\n\tUPDATE dbo.AssignedLoad \r\n\tSET \r\n        UpdatedBy     = @UpdatedBy ,\r\n        UpdatedOn     = GETUTCDATE(),\r\n\t\tCustTracking  = @CustTracking\r\n\tWHERE ID=@ID   \r\n\t\r\n    IF (@@ROWCOUNT <> 0)\r\n    BEGIN\r\n        Set @ReturnValue = 1\r\n    END\r\nEND TRY\r\nBEGIN CATCH\r\n    SET @ReturnValue = -1\r\n\r\n    SELECT \r\n        ERROR_NUMBER() AS ErrorNumber,\r\n        ERROR_MESSAGE() AS ErrorMessage;\r\nEND CATCH;\r\n\r\nSELECT @ReturnValue       ReturnValue\r\nRETURN @ReturnValue\r\n\r\nEND\r\n\r\nGRANT EXECUTE ON  [dbo].[usp_UpdateAssignedLoadCustTracking] TO [udb_platform]","parameters":[{"name":"ID","description":null,"mode":"IN","data_type":"int","custom_fields":{}},{"name":"UpdatedBy","description":null,"mode":"IN","data_type":"int","custom_fields":{}},{"name":"UserId","description":null,"mode":"IN","data_type":"int","custom_fields":{}},{"name":"CustTracking","description":null,"mode":"IN","data_type":"bit","custom_fields":{}}],"dependencies":null,"imported_at":"2021-07-29 12:59"};